javascript:(function()%7Bfunction%20launch(override_autozoom%2Cparams%2Cd_index%2Cdelay_casualties%20%3D%20false)%20%7B%0A%09if(DEBUG)%20console.log(%22LAUNCH%22)%3B%0A%09var%20fireball%20%3D%20false%3B%0A%09var%20crater%20%3D%20false%3B%0A%09var%20casualties%20%3D%20false%3B%0A%09var%20humanitarian%20%3D%20false%3B%0A%09var%20humanitarian_show%20%3D%20false%3B%0A%09var%20fallout%20%3D%20false%3B%0A%09var%20collapser%20%3D%20false%3B%0A%09var%20cep%20%3D%20false%3B%0A%09var%20cep_ft%20%3D%200%3B%0A%09var%20erw%20%3D%20false%3B%0A%09var%20cloud%20%3D%20false%3B%0A%0A%09var%20c%20%3D%20%5B%5D%3B%0A%09var%20psi%20%3D%20%5B%5D%3B%0A%09var%20rem%20%3D%20%5B%5D%3B%0A%09var%20therm%20%3D%20%5B%5D%3B%0A%0A%09var%20errs%20%3D%20%5B%5D%3B%0A%0A%09if(!params)%20%7B%0A%0A%09%09ktInput%20%3D%20%24(%22%23theKt%22).val()%3B%0A%0A%09%09if(ktInput%3D%3D'')%20%7B%0A%09%09%09if(%24(%22%23preset%22).val()%3E0)%20%7B%0A%09%09%09%09ktInput%20%3D%20%24(%22%23preset%22).val()%3B%0A%09%09%09%09%24(%22%23theKt%22).val(ktInput)%3B%0A%09%09%09%7D%0A%09%09%7D%0A%0A%09%09if(ktInput%3D%3D'')%20%7B%0A%09%09%09%24(%22%23detonate_error%22).html(%22Please%20specify%20a%20%3Cb%3Eyield%3C%2Fb%3E%20above.%22)%0A%09%09%09%24(%22%23detonate_error%22).slideDown(100).delay(2000).slideUp(100)%3B%0A%09%09%09%24(%22%23yield_div%22).fadeIn(100).fadeOut(100).fadeIn(100).fadeOut(100).fadeIn(100)%3B%0A%09%09%09return%20false%3B%0A%09%09%7D%20%0A%09%0A%09%09kt%20%3D%20parseFloat(ktInput)%3B%0A%0A%09%09if(kt%3C%3D0)%20%7B%0A%09%09%09%24(%22%23detonate_error%22).html(%22Please%20specify%20a%20%3Cb%3Eyield%3C%2Fb%3E%20above.%22)%0A%09%09%09%24(%22%23detonate_error%22).slideDown(100).delay(2000).slideUp(100)%3B%0A%09%09%09%24(%22%23yield_div%22).fadeIn(100).fadeOut(100).fadeIn(100).fadeOut(100).fadeIn(100)%3B%0A%09%09%09return%20false%3B%0A%09%09%7D%0A%09%09%24(%22%23detonate_error%22).hide()%3B%0A%09%09%0A%09%09pos%20%3D%20getPosition(marker)%3B%0A%0A%09%09var%20opt%20%3D%20document.forms%5B%22options%22%5D%3B%0A%0A%09%09var%20hob_ft%20%3D%200%3B%0A%09%09if(opt%5B%22hob%22%5D%5B0%5D.checked)%20%7B%0A%09%09%09var%20airburst%20%3D%20true%3B%0A%09%09%09if(opt%5B%22hob_option%22%5D%5B1%5D.checked)%20%7B%0A%09%09%09%09var%20hob_opt%20%3D%201%3B%0A%09%09%09%09var%20hob_opt_psi%20%3D%20parseFloat(opt%5B%22hob_psi%22%5D.value)%3B%0A%09%09%09%09if(hob_opt_psi%3C1%7C%7Chob_opt_psi%3E10000)%20%7B%0A%09%09%09%09%09errs.push(%22Range%20of%20psi%20for%20choosing%20an%20optimum%20height%20is%201%20to%2010%2C000.%22)%3B%0A%09%09%09%09%09var%20hob_opt%20%3D%200%3B%0A%09%09%09%09%7D%20else%20%7B%0A%09%09%09%09%09hob_ft%20%3D%20Math.round(bc.opt_height_for_psi(kt%2CparseFloat(hob_opt_psi)))%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%20else%20if(opt%5B%22hob_option%22%5D%5B2%5D.checked)%20%7B%0A%09%09%09%09var%20hob_opt%20%3D%202%3B%0A%09%09%09%09var%20hob_opt_psi%20%3D%205%3B%20%2F%2Fdefault%0A%09%09%09%09switch(parseInt(opt%5B%22hob_h_u%22%5D.value))%20%7B%0A%09%09%09%09%09case%201%3A%20%2F%2Fm%0A%09%09%09%09%09%09hob_ft%20%3D%20Math.round(parseFloat(opt%5B%22hob_h%22%5D.value)*m2ft)%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%09%09case%202%3A%20%2F%2Fmi%0A%09%09%09%09%09%09hob_ft%20%3D%20Math.round(parseFloat(opt%5B%22hob_h%22%5D.value)*mi2ft)%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%09%09case%203%3A%20%2F%2Fkm%0A%09%09%09%09%09%09hob_ft%20%3D%20Math.round(parseFloat(opt%5B%22hob_h%22%5D.value)*km2ft)%3B%09%09%09%09%0A%09%09%09%09%09break%3B%0A%09%09%09%09%09default%3A%20%2F%2Fft%0A%09%09%09%09%09%09hob_ft%20%3D%20Math.round(parseFloat(opt%5B%22hob_h%22%5D.value))%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%20else%20%7B%0A%09%09%09%09var%20hob_opt%20%3D%200%3B%0A%09%09%09%7D%0A%09%09%7D%20else%20%7B%0A%09%09%09var%20airburst%20%3D%20false%3B%0A%09%09%7D%0A%0A%09%09for(var%20i%3D0%3B%20i%3Copt%5B%22psi%22%5D.length%3Bi%2B%2B)%20%7B%0A%09%09%09if(opt%5B%22psi%22%5D%5Bi%5D.checked)%20%7B%0A%09%09%09%09if(opt%5B%22psi%22%5D%5Bi%5D.value%3E0)%20%7B%0A%09%09%09%09%09psi.push(opt%5B%22psi%22%5D%5Bi%5D.value)%3B%0A%09%09%09%09%7D%20else%20if(opt%5B%22psi%22%5D%5Bi%5D.value%3C0)%20%7B%0A%09%09%09%09%09var%20other%20%3D%20parseFloat(opt%5B%22psi_other_%22%2B(parseInt(opt%5B%22psi%22%5D%5Bi%5D.value)*-1)%5D.value)%3B%0A%09%09%09%09%09if((other%3E%3D1)%26%26(other%3C%3D10000))%20%7B%0A%09%09%09%09%09%09psi.push(parseFloat(other))%3B%0A%09%09%09%09%09%7D%20else%20%7B%0A%09%09%09%09%09%09errs.push(%22Range%20for%20overpressure%20is%201-10%2C000%20psi%3B%20entry%20of%20%22%2Bother%2B%22%20skipped.%22)%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%7D%0A%09%09%09%7D%0A%09%09%7D%0A%09%09%0A%09%09for(var%20i%3D0%3B%20i%3Copt%5B%22rem%22%5D.length%3Bi%2B%2B)%20%7B%0A%09%09%09if(opt%5B%22rem%22%5D%5Bi%5D.checked)%20%7B%0A%09%09%09%09if(opt%5B%22rem%22%5D%5Bi%5D.value%3E0)%20%7B%0A%09%09%09%09%09rem.push(opt%5B%22rem%22%5D%5Bi%5D.value)%3B%0A%09%09%09%09%7D%20else%20if(opt%5B%22rem%22%5D%5Bi%5D.value%20%3C%200)%7B%0A%09%09%09%09%09var%20other%20%3D%20parseFloat(opt%5B%22rem_other_%22%2B(parseInt(opt%5B%22rem%22%5D%5Bi%5D.value)*-1)%5D.value)%3B%0A%09%09%09%09%09if(other%3E%3D1%26%26other%3C%3DMath.pow(10%2C8))%20%7B%0A%09%09%09%09%09%09rem.push(other)%3B%0A%09%09%09%09%09%7D%20else%20%7B%0A%09%09%09%09%09%09errs.push(%22Range%20for%20initial%20nuclear%20radiation%20is%201-10%5E8%20rem%3B%20entry%20of%20%22%2Bother%2B%22%20skipped.%22)%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%7D%0A%09%09%09%7D%0A%09%09%7D%0A%0A%09%09for(var%20i%3D0%3B%20i%3Copt%5B%22therm%22%5D.length%3Bi%2B%2B)%20%7B%0A%09%09%09if(opt%5B%22therm%22%5D%5Bi%5D.checked)%20%7B%0A%09%09%09%09if(opt%5B%22therm%22%5D%5Bi%5D.value%3E0%7C%7Copt%5B%22therm%22%5D%5Bi%5D.value%5B0%5D%3D%3D%22_%22)%20%7B%0A%09%09%09%09%09therm.push(opt%5B%22therm%22%5D%5Bi%5D.value)%3B%0A%09%09%09%09%7D%20else%20if%20(opt%5B%22therm%22%5D%5Bi%5D.value%3C0)%20%7B%0A%09%09%09%09%09var%20other%20%3D%20parseFloat(opt%5B%22therm_other_%22%2B(parseInt(opt%5B%22therm%22%5D%5Bi%5D.value)*-1)%5D.value)%3B%0A%09%09%09%09%09if(other%3E0)%20%7B%0A%09%09%09%09%09%09therm.push(other)%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%7D%0A%09%09%09%7D%0A%09%09%7D%0A%09%0A%09%09if(opt%5B%22other%22%5D%5B0%5D.checked)%20casualties%20%3D%20true%3B%0A%09%09if(opt%5B%22other%22%5D%5B1%5D.checked)%20fireball%20%3D%20true%3B%0A%09%09if(opt%5B%22other%22%5D%5B2%5D.checked)%20crater%20%3D%20true%3B%0A%09%09if(opt%5B%22other%22%5D%5B3%5D.checked)%20humanitarian%20%3D%20true%3B%0A%09%09if(opt%5B%22other%22%5D%5B4%5D.checked)%20humanitarian_show%20%3D%20true%3B%0A%09%09if(opt%5B%22other%22%5D%5B5%5D.checked)%20fallout%20%3D%20true%3B%0A%09%09if(opt%5B%22other%22%5D%5B6%5D.checked)%20cep%20%3D%20true%3B%0A%09%09if(opt%5B%22other%22%5D%5B7%5D.checked)%20cloud%20%3D%20true%3B%09%0A%0A%09%09var%20fallout_wind%20%3D%20parseInt(document.getElementById(%22fallout_wind%22).value)%3B%0A%09%09if(fallout_wind%3C0)%20%7B%20%2F%2Fbind%20the%20wind%20speed%20to%20respectable%20options%0A%09%09%09fallout_wind%20%3D%200%3B%0A%09%09%09document.getElementById(%22fallout_wind%22).value%20%3D%20fallout_wind%3B%0A%09%09%7D%20else%20if(fallout_wind%3E50)%20%7B%20%0A%09%09%09fallout_wind%20%3D%2050%3B%0A%09%09%09document.getElementById(%22fallout_wind%22).value%20%3D%20fallout_wind%3B%0A%09%09%7D%0A%09%0A%09%09var%20ff%20%3D%20parseInt(document.getElementById(%22fallout_fission%22).value)%3B%0A%09%09if(ff%3C%3D0)%20%7B%0A%09%09%09ff%20%3D%201%3B%0A%09%09%09document.getElementById(%22fallout_fission%22).value%20%3D%20ff%3B%0A%09%09%7D%20else%20if%20(ff%3E100)%20%7B%0A%09%09%09ff%20%3D%20100%3B%0A%09%09%09document.getElementById(%22fallout_fission%22).value%20%3D%20ff%3B%0A%09%09%7D%0A%0A%09%09if(document.getElementById(%22fallout_angle%22).value)%20%7B%0A%09%09%09%09var%20fallout_angle%20%3D%20document.getElementById(%22fallout_angle%22).value%3B%0A%09%09%7D%20else%20if(windsock_marker)%20%7B%0A%09%09%09markerpos%20%3D%20getPosition(marker)%3B%0A%09%09%09windsockpos%20%3D%20getPosition(windsock_marker)%3B%0A%09%09%09var%20fallout_angle%20%3D%20fallout_bearing(markerpos%2Cwindsockpos)%3B%0A%09%09%7D%20else%20%7B%0A%09%09%09%09var%20fallout_angle%20%3D%20null%3B%0A%09%09%7D%0A%0A%09%09if(opt%5B%22collapser%22%5D!%3Dundefined)%20%7B%0A%09%09%09if(opt%5B%22collapser%22%5D.checked)%20collapser%20%3D%20true%3B%0A%09%09%7D%0A%0A%09%09dets%5Bdet_index%5D%20%3D%20%7B%0A%09%09%09kt%3A%20kt%2C%0A%09%09%09pos%3A%20pos%2C%0A%09%09%09airburst%3A%20airburst%2C%0A%09%09%09hob_opt%3A%20hob_opt%2C%0A%09%09%09hob_psi%3A%20hob_opt_psi%2C%0A%09%09%09hob_ft%3A%20hob_ft%2C%0A%09%09%09fireball%3A%20fireball%2C%0A%09%09%09crater%3A%20crater%2C%0A%09%09%09casualties%3A%20casualties%2C%0A%09%09%09humanitarian%3A%20humanitarian%2C%0A%09%09%09fallout%3A%20fallout%2C%0A%09%09%09fallout_wind%3A%20fallout_wind%2C%0A%09%09%09ff%3A%20ff%2C%0A%09%09%09fallout_angle%3A%20fallout_angle%2C%0A%09%09%09erw%3A%20erw%2C%0A%09%09%09psi%3A%20psi%2C%0A%09%09%09rem%3A%20rem%2C%0A%09%09%09therm%3A%20therm%2C%0A%09%09%09cep%3A%20cep%2C%0A%09%09%09cep_ft%3A%20cep_ft%2C%0A%09%09%09cloud%3A%20cloud%0A%09%09%7D%3B%0A%0A%09%7D%20else%20%7B%0A%09%09if(DEBUG)%20console.log(params)%3B%0A%09%09var%20opt%20%3D%20document.forms%5B%22options%22%5D%3B%0A%09%09if(!params.pos)%20return%20false%3B%0A%09%09det_index%20%3D%20d_index%3B%0A%09%09if(params.kt)%20%7B%0A%09%09%09kt%20%3D%20params.kt%3B%20%0A%09%09%09%24(%22%23theKt%22).val(kt)%3B%0A%09%09%7D%0A%09%09if(params.pos)%20%7B%20%0A%09%09%09pos%20%3D%20params.pos%3B%0A%09%09%09setPosition(marker%2Cpos)%3B%0A%09%09%7D%0A%09%09if(params.airburst!%3Dundefined)%09%7B%0A%09%09%09airburst%20%3D%20params.airburst%3B%0A%09%09%09if(airburst)%20%7B%20%0A%09%09%09%09opt%5B%22hob%22%5D%5B0%5D.checked%20%3D%20true%3B%0A%09%09%09%7D%20else%20%7B%0A%09%09%09%09opt%5B%22hob%22%5D%5B1%5D.checked%20%3D%20true%3B%0A%09%09%09%7D%0A%09%09%7D%0A%0A%09%09if(params.hob_opt!%3Dundefined)%20%7B%0A%09%09%09hob_opt%20%3D%20params.hob_opt%3B%0A%09%09%09hob_opt_psi%20%3D%20params.hob_psi%3B%0A%09%09%09if(typeof%20params.hob%20!%3D%22undefined%22)%20%7B%0A%09%09%09%09params.hob_ft%20%3D%20params.hob%3B%20%2F%2Fsome%20old%20permalinks%20have%20this%20instead%2C%20it%20looks%20like%0A%09%09%09%7D%0A%09%09%09hob_ft%20%3D%20params.hob_ft%3B%0A%09%09%09opt%5B%22hob_option%22%5D%5Bhob_opt%5D.checked%20%3D%20true%3B%0A%09%09%09if(hob_opt_psi)%20opt%5B%22hob_psi%22%5D.value%20%3D%20hob_opt_psi%3B%0A%09%09%09if(hob_ft%7C%7Cparams.hob_ft!%3Dundefined)%20opt%5B%22hob_h%22%5D.value%20%3D%20hob_ft%3B%0A%09%09%09if(!hob_ft%26%26hob_opt_psi%26%26hob_opt%3D%3D1)%20%7B%0A%09%09%09%09hob_ft%20%3D%20Math.round(bc.opt_height_for_psi(kt%2CparseFloat(hob_opt_psi)))%3B%0A%09%09%09%7D%0A%09%09%7D%0A%0A%09%09if(params.fireball!%3Dundefined)%20%7B%20%0A%09%09%09fireball%20%3D%20params.fireball%3B%0A%09%09%09opt%5B%22other%22%5D%5B1%5D.checked%20%3D%20fireball%3B%0A%09%09%7D%0A%09%09%0A%09%09if(params.crater)%20%7B%20%0A%09%09%09crater%20%3D%20params.crater%3B%0A%09%09%09opt%5B%22other%22%5D%5B2%5D.checked%20%3D%20crater%3B%0A%09%09%7D%0A%09%09if(params.casualties)%20%7B%20%0A%09%09%09casualties%20%3D%20params.casualties%3B%0A%09%09%09opt%5B%22other%22%5D%5B0%5D.checked%20%3D%20casualties%3B%0A%09%09%7D%0A%09%09if(params.humanitarian)%20%7B%20%0A%09%09%09humanitarian%20%3D%20params.humanitarian%3B%0A%09%09%09opt%5B%22other%22%5D%5B3%5D.checked%20%3D%20humanitarian%3B%0A%09%09%7D%0A%09%09if(params.humanitarian_show)%20%7B%20%0A%09%09%09humanitarian%20%3D%20params.humanitarian_show%3B%0A%09%09%09opt%5B%22other%22%5D%5B4%5D.checked%20%3D%20humanitarian_show%3B%0A%09%09%7D%0A%09%09if(params.fallout)%20%7B%20%0A%09%09%09fallout%20%3D%20params.fallout%3B%0A%09%09%09opt%5B%22other%22%5D%5B5%5D.checked%20%3D%20fallout%3B%0A%09%09%09document.getElementById(%22fallout_check_2%22).checked%20%3D%20opt%5B%22other%22%5D%5B5%5D.checked%3B%0A%09%09%7D%0A%09%09if(params.cloud)%20%7B%0A%09%09%09cloud%20%3D%20params.cloud%3B%0A%09%09%09opt%5B%22other%22%5D%5B7%5D.checked%20%3D%20cloud%3B%0A%09%09%7D%0A%09%09%0A%09%09if(params.fallout_wind!%3Dundefined)%20%7B%0A%09%09%09fallout_wind%20%3D%20params.fallout_wind%3B%0A%09%09%09document.getElementById(%22fallout_wind%22).value%20%3D%20fallout_wind%3B%0A%09%09%7D%0A%0A%09%09if(params.ff)%20%7B%0A%09%09%09ff%20%3D%20params.ff%3B%0A%09%09%09document.getElementById(%22fallout_fission%22).value%20%3D%20ff%3B%0A%09%09%7D%09%0A%0A%09%09if(params.fallout_angle!%3D%3Dundefined)%20%7B%0A%09%09%09fallout_angle%20%3D%20params.fallout_angle%3B%0A%09%09%09document.getElementById(%22fallout_angle%22).value%20%3D%20fallout_angle%3B%0A%09%09%7D%0A%09%09%0A%09%09if(params.fallout_rad_doses)%20%7B%0A%09%09%09rad_doses%20%3D%20params.fallout_rad_doses%3B%0A%09%09%7D%0A%09%09%0A%09%09if(params.cep)%20%7B%0A%09%09%09cep%20%3D%20params.cep%3B%0A%09%09%09opt%5B%22other%22%5D%5B6%5D.checked%20%3D%20cep%3B%0A%09%09%7D%0A%09%09%0A%09%09if(params.cep_ft)%20%7B%0A%09%09%09cep_ft%20%3D%20params.cep_ft%3B%0A%09%09%09opt%5B%22cep%22%5D.value%20%3D%20cep_ft%3B%0A%09%09%7D%0A%09%09%0A%09%09if(params.erw)%20%7B%20%0A%09%09%09erw%20%3D%20params.erw%3B%0A%09%09%09%2F%2Fopt%5B%22other%22%5D%5B7%5D.checked%20%3D%20erw%3B%0A%09%09%7D%0A%09%09%0A%09%09if(params.psi%26%26!isEmptyArray(params.psi))%20%7B%20%0A%09%09%09psi%20%3D%20params.psi%3B%0A%09%09%09document.getElementById(%22addrow_psi%22).innerHTML%3D%22%22%3B%0A%09%09%09opt%5B%22psi_other_1%22%5D.value%20%3D%20%22%22%3B%0A%09%09%09document.getElementById(%22psi_other_check_1%22).checked%20%3D%20false%3B%0A%09%09%09%0A%09%09%09for(var%20i%3D0%3B%20i%3Copt%5B%22psi%22%5D.length%3Bi%2B%2B)%20%7B%0A%09%09%09%09if(inArray(opt%5B%22psi%22%5D%5Bi%5D.value%2Cpsi))%20%7B%0A%09%09%09%09%09opt%5B%22psi%22%5D%5Bi%5D.checked%20%3D%20true%3B%0A%09%09%09%09%7D%20else%20%7B%0A%09%09%09%09%09opt%5B%22psi%22%5D%5Bi%5D.checked%20%3D%20false%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%0A%09%09%09for(var%20i%3D0%3Bi%3Cpsi.length%3Bi%2B%2B)%20%7B%0A%09%09%09%09switch(psi%5Bi%5D)%7B%0A%09%09%09%09%09case%20%223000%22%3A%20case%20%22200%22%3A%20case%20%2220%22%3A%20case%20%225%22%3A%20case%20%221%22%3A%0A%09%09%09%09%09%09%2F%2Fdo%20nothing%2C%20these%20are%20already%20in%20the%20controls%0A%09%09%09%09%09break%3B%0A%09%09%09%09%09default%3A%0A%09%09%09%09%09%09var%20p%20%3D%201%3B%0A%09%09%09%09%09%09while(opt%5B%22psi_other_%22%2Bp%5D.value)%20%7B%0A%09%09%09%09%09%09%09addrow('psi')%3B%0A%09%09%09%09%09%09%09p%2B%2B%3B%0A%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09opt%5B%22psi_other_%22%2Bp%5D.value%20%3D%20psi%5Bi%5D%3B%0A%09%09%09%09%09%09document.getElementById(%22psi_other_check_%22%2Bp).checked%20%3D%20true%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%0A%09%09%7D%20else%20%7B%0A%09%09%09for(var%20i%3D0%3B%20i%3Copt%5B%22psi%22%5D.length%3Bi%2B%2B)%20%7B%0A%09%09%09%09opt%5B%22psi%22%5D%5Bi%5D.checked%20%3D%20false%3B%0A%09%09%09%7D%09%09%0A%09%09%7D%0A%09%09if(params.rem%26%26!isEmptyArray(params.rem))%20%7B%20%0A%0A%09%09%09rem%20%3D%20params.rem%3B%0A%09%09%09document.getElementById(%22addrow_rem%22).innerHTML%3D%22%22%3B%0A%09%09%09opt%5B%22rem_other_1%22%5D.value%20%3D%20%22%22%3B%0A%09%09%09document.getElementById(%22rem_other_check_1%22).checked%20%3D%20false%3B%0A%09%09%09%0A%09%09%09for(var%20i%3D0%3B%20i%3Copt%5B%22rem%22%5D.length%3Bi%2B%2B)%20%7B%0A%09%09%09%09if(inArray(opt%5B%22rem%22%5D%5Bi%5D.value%2Crem))%20%7B%0A%09%09%09%09%09opt%5B%22rem%22%5D%5Bi%5D.checked%20%3D%20true%3B%0A%09%09%09%09%7D%20else%20%7B%0A%09%09%09%09%09opt%5B%22rem%22%5D%5Bi%5D.checked%20%3D%20false%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%0A%09%09%09for(var%20i%3D0%3Bi%3Crem.length%3Bi%2B%2B)%20%7B%0A%09%09%09%09switch(rem%5Bi%5D)%7B%0A%09%09%09%09%09case%20%22100%22%3A%20case%20%22500%22%3A%20case%20%22600%22%3A%20case%20%221000%22%3A%20case%20%225000%22%3A%0A%09%09%09%09%09%09%2F%2Fdo%20nothing%2C%20these%20are%20already%20in%20the%20controls%0A%09%09%09%09%09break%3B%0A%09%09%09%09%09default%3A%0A%09%09%09%09%09%09var%20p%20%3D%201%3B%0A%09%09%09%09%09%09while(opt%5B%22rem_other_%22%2Bp%5D.value)%20%7B%0A%09%09%09%09%09%09%09addrow('rem')%3B%0A%09%09%09%09%09%09%09p%2B%2B%3B%0A%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09opt%5B%22rem_other_%22%2Bp%5D.value%20%3D%20rem%5Bi%5D%3B%0A%09%09%09%09%09%09document.getElementById(%22rem_other_check_%22%2Bp).checked%20%3D%20true%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%0A%09%09%7D%20else%20%7B%0A%09%09%09for(var%20i%3D0%3B%20i%3Copt%5B%22rem%22%5D.length%3Bi%2B%2B)%20%7B%0A%09%09%09%09opt%5B%22rem%22%5D%5Bi%5D.checked%20%3D%20false%3B%0A%09%09%09%7D%09%09%0A%09%09%7D%0A%09%09if(params.therm%26%26!isEmptyArray(params.therm))%20%7B%20%0A%09%09%09therm%20%3D%20params.therm%3B%0A%09%09%09document.getElementById(%22addrow_therm%22).innerHTML%3D%22%22%3B%0A%09%09%09opt%5B%22therm_other_1%22%5D.value%20%3D%20%22%22%3B%0A%09%09%09document.getElementById(%22therm_other_check_1%22).checked%20%3D%20false%3B%0A%09%09%09%0A%09%09%09for(var%20i%3D0%3B%20i%3Copt%5B%22therm%22%5D.length%3Bi%2B%2B)%20%7B%0A%09%09%09%09if(inArray(opt%5B%22therm%22%5D%5Bi%5D.value%2Ctherm))%20%7B%0A%09%09%09%09%09opt%5B%22therm%22%5D%5Bi%5D.checked%20%3D%20true%3B%0A%09%09%09%09%7D%20else%20%7B%0A%09%09%09%09%09opt%5B%22therm%22%5D%5Bi%5D.checked%20%3D%20false%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%0A%09%09%09for(var%20i%3D0%3Bi%3Ctherm.length%3Bi%2B%2B)%20%7B%0A%09%09%09%09switch(therm%5Bi%5D)%7B%0A%09%09%09%09%09case%20%22_3rd-100%22%3A%20case%20%22_3rd-50%22%3A%20case%20%22_2nd-50%22%3A%20case%20%22_1st-50%22%3A%20case%20%22_noharm-100%22%3A%20case%20%2235%22%3A%0A%09%09%09%09%09%09%2F%2Fdo%20nothing%2C%20these%20are%20already%20in%20the%20controls%0A%09%09%09%09%09break%3B%0A%09%09%09%09%09default%3A%0A%09%09%09%09%09%09var%20p%20%3D%201%3B%0A%09%09%09%09%09%09while(opt%5B%22therm_other_%22%2Bp%5D.value)%20%7B%0A%09%09%09%09%09%09%09addrow('therm')%3B%0A%09%09%09%09%09%09%09p%2B%2B%3B%0A%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09opt%5B%22therm_other_%22%2Bp%5D.value%20%3D%20therm%5Bi%5D%3B%0A%09%09%09%09%09%09document.getElementById(%22therm_other_check_%22%2Bp).checked%20%3D%20true%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%0A%09%09%7D%20else%20%7B%0A%09%09%09for(var%20i%3D0%3B%20i%3Copt%5B%22therm%22%5D.length%3Bi%2B%2B)%20%7B%0A%09%09%09%09opt%5B%22therm%22%5D%5Bi%5D.checked%20%3D%20false%3B%0A%09%09%09%7D%09%09%0A%09%09%7D%0A%09%7D%0A%09if(typeof%20params%20!%3D%3D%22undefined%22)%20%7B%0A%09%09if(params.nd%3D%3D1)%20return%3B%0A%09%7D%0A%0A%09pos_lat%20%3D%20latval(pos)%3B%0A%09pos_lng%20%3D%20lngval(pos)%3B%0A%09%0A%09%2F*if(humanitarian)%20%7B%0A%09%09get_places(pos_lat%2Cpos_lng%2C%20bc.distance_from_scaled_range(bc.maximum_overpressure_range(10%2Cairburst)%2Ckt)*mi2m%2Chumanitarian_show%2C%22theLegendPlaces%22)%3B%20%0A%09%7D*%2F%0A%09%0A%09if(casualties)%20%7B%0A%09%09if(delay_casualties)%20%7B%0A%09%09%09casualties_delayed%20%3D%20true%3B%0A%09%09%7D%20else%20%7B%0A%09%09%09if(DEBUG)%20console.log(%22get_casulaties_multi%22%2Cdets)%3B%0A%09%09%09get_casualties_multi(dets%2C%22theLegendCasualties%22)%3B%0A%09%09%7D%0A%09%7D%20else%20%7B%0A%09%09%24(%22%23theLegendCasualties%22).html(%22%22)%3B%0A%09%7D%0A%09%0A%09if(fallout)%20%7B%0A%09%09if(hob_ft%26%26airburst)%20%7B%0A%09%09%09do_fallout(kt%2Cfallout_wind%2Cff%2Cfallout_angle%2C%22theLegendFallout%22%2Cairburst%2Chob_ft)%3B%0A%09%09%7D%20else%20%7B%0A%09%09%09do_fallout(kt%2Cfallout_wind%2Cff%2Cfallout_angle%2C%22theLegendFallout%22%2Cairburst)%3B%09%09%0A%09%09%7D%0A%09%7D%0A%0A%09if(cep%3D%3Dtrue)%20%7B%0A%09%09switch(parseInt(opt%5B%22cep_unit%22%5D.value))%20%7B%0A%09%09%09case%201%3A%20%2F%2Fm%0A%09%09%09%09cep_ft%20%3D%20Math.round(parseFloat(opt%5B%22cep%22%5D.value)*m2ft)%3B%0A%09%09%09break%3B%0A%09%09%09case%202%3A%20%2F%2Fmi%0A%09%09%09%09cep_ft%20%3D%20Math.round(parseFloat(opt%5B%22cep%22%5D.value)*mi2ft)%3B%0A%09%09%09break%3B%0A%09%09%09case%203%3A%20%2F%2Fkm%0A%09%09%09%09cep_ft%20%3D%20Math.round(parseFloat(opt%5B%22cep%22%5D.value)*km2ft)%3B%09%09%09%09%0A%09%09%09break%3B%0A%09%09%09default%3A%20%2F%2Fft%0A%09%09%09%09cep_ft%20%3D%20Math.round(parseFloat(opt%5B%22cep%22%5D.value))%3B%0A%09%09%09break%3B%0A%09%09%7D%0A%09%09if(cep_ft%3E0)%20%7B%0A%09%09%09c.push(%5Bcep_ft*ft2mi%2C%22cep%22%2C50%5D)%3B%0A%09%09%09c.push(%5Bcep_ft*2*ft2mi%2C%22cep%22%2C43%5D)%3B%0A%09%09%09c.push(%5Bcep_ft*3*ft2mi%2C%22cep%22%2C7%5D)%3B%09%09%09%0A%09%09%7D%20else%20%7B%0A%09%09%09errs.push(%22The%20Circular%20Error%20Probable%20given%20is%20an%20invalid%20value.%20CEP%20must%20be%20greater%20than%20zero%20to%20display.%22)%3B%09%0A%09%09%7D%0A%09%7D%0A%0A%09if(c_radii%5Bdet_index%5D)%20%7B%0A%09%09for(var%20i%3D0%3Bi%3Cc_radii%5Bdet_index%5D.length%3Bi%2B%2B)%20%7B%0A%09%09%09c_radii%5Bdet_index%5D%5Bi%5D%20%3D%20remove(c_radii%5Bdet_index%5D%5Bi%5D)%3B%0A%09%09%7D%0A%09%09c_radii%5Bdet_index%5D%20%3D%20%5B%5D%3B%0A%09%7D%0A%0A%09for(var%20i%3D0%3Bi%3Cpsi.length%3Bi%2B%2B)%20%7B%0A%09%09if(airburst%3D%3Dtrue)%20%7B%0A%09%09%09if(!hob_opt)%20%7B%0A%09%09%09%09var%20t%20%3D%20bc.psi_distance(kt%2Cpsi%5Bi%5D%2Cairburst)%3B%0A%09%09%09%7D%20else%20%7B%0A%09%09%09%09var%20t%20%3D%20bc.range_from_psi_hob(kt%2Cpsi%5Bi%5D%2Chob_ft)*ft2mi%3B%0A%09%09%09%7D%0A%09%09%7D%20else%20%7B%0A%09%09%09var%20t%20%3D%20bc.range_from_psi_hob(kt%2Cpsi%5Bi%5D%2C0)*ft2mi%3B%0A%09%09%09%2F%2Fvar%20t%20%3D%20bc.psi_distance(kt%2Cpsi%5Bi%5D%2Cairburst)%3B%0A%09%09%7D%0A%09%09if(t%3E0)%20%7B%0A%09%09%09c.push(%5Bt%2C%22psi%22%2Cpsi%5Bi%5D%5D)%3B%09%0A%09%09%7D%20else%20%7B%0A%09%09%09var%20err%20%3D%20%22The%20blast%20pressure%20equation%20for%20%22%2Bunit(psi%5Bi%5D%2C%22psi%22)%2B%22%20failed%20to%20give%20a%20result%20for%20the%20given%20yield%20and%20height%20settings.%22%3B%0A%09%09%09if(hob_ft%26%26airburst%26%26hob_opt)%20%7B%0A%09%09%09%09err%2B%3D%22%20The%20maximum%20detonation%20height%20for%20this%20effect%20to%20be%20felt%20on%20the%20ground%20is%20%22%2Bunit(bc.max_height_for_psi(kt%2Cpsi%5Bi%5D)*ft2km%2C%22km%22)%2B%22.%22%3B%0A%09%09%09%7D%0A%09%09%09errs.push(err)%3B%0A%09%09%7D%0A%09%7D%0A%0A%09for(var%20i%3D0%3Bi%3Crem.length%3Bi%2B%2B)%20%7B%0A%09%09if(erw)%20%7B%0A%09%09%09var%20r_kt%20%3D%20kt*10%3B%0A%09%09%7D%20else%20%7B%0A%09%09%09var%20r_kt%20%3D%20kt%3B%0A%09%09%7D%0A%09%09var%20t%20%3D%20bc.initial_nuclear_radiation_distance(r_kt%2Crem%5Bi%5D)%3B%0A%09%09var%20t1%20%3D%20t%3B%0A%09%09if(hob_ft%26%26airburst)%20%7B%0A%09%09%09t%20%3D%20bc.ground_range_from_slant_range(t%2Chob_ft*ft2mi)%3B%0A%09%09%7D%0A%09%09if(t%3E0)%20%7B%0A%09%09%09c.push(%5Bt%2C%22rem%22%2Crem%5Bi%5D%5D)%3B%0A%09%09%7D%20else%20%7B%0A%09%09%09var%20err%20%3D%20%22The%20initial%20nuclear%20radiation%20equation%20for%20%22%2Bunit(rem%5Bi%5D%2C%22rem%22)%2B%22%20failed%20to%20give%20a%20result%20for%20the%20given%20yield%20and%20height%20settings.%22%3B%0A%09%09%09if(hob_ft%26%26airburst)%20%7B%0A%09%09%09%09if(hob_ft*ft2mi%20%3E%20t1)%20%7B%0A%09%09%09%09%09err%2B%3D%22%20The%20maximum%20detonation%20height%20for%20this%20effect%20to%20be%20felt%20on%20the%20ground%20is%20%22%2Bunit(t1*mi2km%2C%22km%22)%2B%22.%22%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%0A%09%09%09errs.push(err)%3B%0A%09%09%7D%0A%09%7D%0A%0A%09for(var%20i%3D0%3Bi%3Ctherm.length%3Bi%2B%2B)%20%7B%09%09%0A%09%09var%20t%20%3D%20bc.thermal_distance(kt%2Ctherm%5Bi%5D%2Cairburst)%3B%0A%09%09var%20t1%20%3D%20t%3B%0A%09%09if(hob_ft%26%26airburst)%20%7B%0A%09%09%09t%20%3D%20bc.ground_range_from_slant_range(t%2Chob_ft*ft2mi)%3B%0A%09%09%7D%0A%09%09if(t%3E0)%20%7B%0A%09%09%09c.push(%5Bt%2C%22therm%22%2Ctherm%5Bi%5D%5D)%3B%0A%09%09%7D%20else%20%7B%0A%09%09%09if(therm%5Bi%5D%5B0%5D%3D%3D%22_%22)%20%7B%0A%09%09%09%09switch(therm%5Bi%5D)%20%7B%0A%09%09%09%09case%20%22_3rd-100%22%3A%0A%09%09%09%09%09var%20t_text%20%3D%20%223rd%20degree%20burns%22%3B%0A%09%09%09%09break%3B%0A%09%09%09%09case%20%22_3rd-50%22%3A%0A%09%09%09%09%09var%20t_text%20%3D%20%223rd%20degree%20burns%20(50%25)%22%3B%0A%09%09%09%09break%3B%0A%09%09%09%09case%20%22_2nd-50%22%3A%0A%09%09%09%09%09var%20t_text%20%3D%20%222nd%20degree%20burns%20(50%25)%22%3B%0A%09%09%09%09break%3B%0A%09%09%09%09case%20%22_1st-50%22%3A%0A%09%09%09%09%09var%20t_text%20%3D%20%221st%20degree%20burns%20(50%25)%22%3B%0A%09%09%09%09break%3B%0A%09%09%09%09case%20%22_noharm-100%22%3A%0A%09%09%09%09%09var%20t_text%20%3D%20%22no%20harm%22%3B%0A%09%09%09%09break%3B%09%0A%09%09%09%09%7D%0A%09%09%09%09var%20err%20%3D%20%22Thermal%20radiation%20(%22%2Bt_text%2B%22)%20equation%20failed%20to%20give%20a%20result%20for%20the%20given%20yield%20and%20height.%22%0A%09%09%09%09if(hob_ft%26%26airburst)%20%7B%0A%09%09%09%09%09if(hob_ft*ft2mi%20%3E%20t1)%20%7B%0A%09%09%09%09%09%09err%2B%3D%22%20The%20maximum%20detonation%20height%20for%20this%20effect%20to%20be%20felt%20on%20the%20ground%20is%20%22%2Bunit(t1*mi2km%2C%22km%22)%2B%22.%22%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%7D%0A%09%09%09%09errs.push(err)%3B%09%09%09%09%0A%09%09%09%7D%20else%20%7B%0A%09%09%09%09var%20err%20%3D%20%22Thermal%20radiation%20(%22%2Bunit(therm%5Bi%5D%2C%22cal%22)%2B%22)%20equation%20failed%20to%20give%20a%20result%20for%20the%20given%20yield%20and%20height.%22%3B%0A%09%09%09%09if(hob_ft%26%26airburst)%20%7B%0A%09%09%09%09%09if(hob_ft*ft2mi%20%3E%20t1)%20%7B%0A%09%09%09%09%09%09err%2B%3D%22%20The%20maximum%20detonation%20height%20for%20this%20effect%20to%20be%20felt%20on%20the%20ground%20is%20%22%2Bunit(t1*mi2km%2C%22km%22)%2B%22.%22%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%7D%0A%09%09%09%09errs.push(err)%3B%09%09%09%09%09%09%09%0A%09%09%09%7D%0A%09%09%7D%0A%09%7D%0A%09%0A%09if(fireball)%20%7B%0A%09%09var%20t%20%3D%20bc.fireball_radius(kt%2Cairburst)%3B%0A%09%09if(t%3E0)%20%7B%0A%09%09%09c.push(%5Bt%2C%22fireball%22%2C%22%22%5D)%3B%0A%09%09%7D%20else%20%7B%0A%09%09%09errs.push(%22The%20fireball%20size%20equation%20failed%20to%20give%20a%20result%20for%20the%20given%20yield.%22)%3B%09%09%09%09%0A%09%09%7D%0A%09%7D%0A%0A%09var%20cr%20%3D%20bc.crater(kt%2Ctrue)%3B%0A%09if(crater)%20%7B%0A%09%09if((cr%5B0%5D%3E0)%26%26(cr%5B1%5D%3E0))%20%7B%0A%09%09%09c.push(%5Bcr%5B1%5D%2C%22crater%22%2C%22%22%5D)%3B%0A%09%09%7D%20else%20%7B%0A%09%09%09errs.push(%22The%20crater%20size%20equation%20failed%20to%20give%20a%20result%20for%20the%20given%20yield.%22)%3B%0A%09%09%7D%0A%09%7D%0A%0A%09if(collapser)%20%7B%0A%09%09if(%24('.hider-arrow').attr(%22expanded%22)%20%3D%3D%20%221%22)%20%7B%0A%09%09%09%24('.hider-arrow').click()%3B%0A%09%09%7D%0A%09%7D%0A%0A%09var%20legend%20%3D%22%22%3B%0A%09if(!hide_legend_hr)%20legend%20%3D%20%22%3Chr%3E%22%3B%0A%09legend%2B%3D%22%3Cspan%20id%3D'effects-header'%3E%22%3B%0A%09legend%2B%3D%22%3Cb%3EEffect%20distances%20for%20a%20%22%2B%20ktOrMt(kt%2Cfalse%2Ctrue)%20%2B%20%22%20%22%2B(airburst%3F%22airburst*%22%3A%22surface%20burst%22)%2B%22%3C%2Fb%3E%3A%22%3B%0A%09legend%2B%3D%22%3Cspan%20class%3D'hider-arrow'%20expanded%3D'1'%3E%20%26%239660%3B%3C%2Fspan%3E%22%0A%09legend%2B%3D%22%3C%2Fspan%3E%22%3B%0A%09legend%2B%3D%22%3Cdiv%20id%3D'collapsed-content'%3E%22%3B%0A%09legend%2B%3D%22%3Cdiv%20class%3D'effectsCaptions'%3E%22%3B%0A%0A%20%09c.sort(function(a%2Cb)%7Breturn%20b%5B0%5D-a%5B0%5D%7D)%3B%0A%0A%09legend1%20%3D%20%22%22%3B%20%2F%2Fthis%20is%20a%20separate%20variable%20because%20we%20are%20going%20to%20be%20adding%20to%20it%20from%20the%20bottom%20up%0A%0A%09var%20effectCaptions%20%3D%20%5B%5D%3B%0A%0A%09%2F%2Fcloud%20caption%20loads%20first%2C%20to%20show%20last%0A%09if(cloud)%20%7B%0A%09%09%2F%2Fall%20of%20these%20are%20in%20FEET%0A%09%09var%20cloud_final_horizontal_semiaxis%20%3D%20bc.cloud_final_horizontal_semiaxis(kt)%3B%20%0A%09%09var%20cloud_final_height%20%3D%20bc.cloud_top(kt)%3B%0A%09%09var%20cloud_final_vertical_semiaxis%20%3D%20(cloud_final_height-bc.cloud_bottom(kt))%2F2%3B%0A%0A%09%09var%20top_altitude%20%3D%20cloud_final_height*ft2km%3B%0A%09%09var%20head_diameter%20%3D%20cloud_final_horizontal_semiaxis*2*ft2km%3B%0A%09%09var%20head_height%20%3D%20cloud_final_vertical_semiaxis*2*ft2km%3B%0A%0A%09%09effectCaptions.push(%7B%0A%09%09%09title%3A%20%22Mushroom%20cloud%20head%20height%22%2C%0A%09%09%09radius%3A%20head_height%2C%0A%09%09%09show_area%3A%20false%2C%0A%09%09%09no_highlight%3A%20true%2C%0A%09%09%09legendkey%3A%20%22%3Cspan%20class%3D'legendkey_symbol'%3E%26varr%3B%3C%2Fspan%3E%22%2C%0A%09%09%09clear%3A%20true%0A%09%09%7D)%0A%0A%09%09effectCaptions.push(%7B%0A%09%09%09title%3A%20%22Mushroom%20cloud%20head%20diameter%22%2C%0A%09%09%09radius%3A%20head_diameter%2C%0A%09%09%09id%3A%20%22cloud_diameter%22%2C%0A%09%09%09legendkey%3A%20%22%3Cspan%20class%3D'legendkey_symbol'%3E%26harr%3B%3C%2Fspan%3E%22%2C%0A%09%09%7D)%0A%0A%09%09effectCaptions.push(%7B%0A%09%09%09title%3A%20%22Mushroom%20cloud%20altitude%22%2C%0A%09%09%09topinsert%3A%20%22%3Cdiv%3E%3Ca%20class%3D'effectImage'%20href%3D'%22%2Bassets%2B%22images%2Fclouddiagram.png'%20title%3D'Click%20to%20enlarge%20this%20image'%20target%3D'_blank'%20onclick%3D'show_image(this)%3B%20return%20false%3B'%20%3E%3Cimg%20src%3D'%22%2Bassets%2B%22images%2Fclouddiagram.png'%3E%3C%2Fa%3E%3C%2Fdiv%3E%22%2C%0A%09%09%09radius%3A%20top_altitude%2C%0A%09%09%09show_area%3A%20false%2C%0A%09%09%09no_highlight%3A%20true%2C%0A%09%09%09legendkey%3A%20%22%3Cspan%20class%3D'legendkey_symbol'%3E%26uarr%3B%3C%2Fspan%3E%22%2C%0A%09%09%7D)%0A%09%7D%0A%0A%09c_radii%5Bdet_index%5D%20%3D%20%5B%5D%3B%0A%0A%09var%20circs%3D0%3B%0A%09for(rec%20in%20c)%20%7B%0A%09%09switch%20(c%5Brec%5D%5B1%5D)%20%7B%09%09%0A%09%09%09case%20%22therm%22%3A%0A%09%09%09%09switch(c%5Brec%5D%5B2%5D)%20%7B%0A%09%09%09%09%09case%20%22_3rd-100%22%3A%0A%09%09%09%09%09%09var%20t_text%20%3D%20%223rd%20degree%20burns%22%3B%0A%09%09%09%09%09%09var%20t_extra%20%3D%20%22100%25%20probability%20for%203rd%20degree%20burns%20at%20this%20yield%20is%20%22%2Bunit(bc.thermal_radiation_param_q(kt%2Cc%5Brec%5D%5B2%5D)%2C%22cal%22)%2B%22.%22%3B%0A%09%09%09%09%09%09var%20caption%20%3D%20%22Third%20degree%20burns%20extend%20throughout%20the%20layers%20of%20skin%2C%20and%20are%20often%20painless%20because%20they%20destroy%20the%20pain%20nerves.%20They%20can%20cause%20severe%20scarring%20or%20disablement%2C%20and%20can%20require%20amputation.%22%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20%22_3rd-50%22%3A%0A%09%09%09%09%09%09var%20t_text%20%3D%20%223rd%20degree%20burns%20(50%25)%22%3B%0A%09%09%09%09%09%09var%20t_extra%20%3D%20%2250%25%20probability%20for%203rd%20degree%20burns%20at%20this%20yield%20is%20%22%2Bunit(bc.thermal_radiation_param_q(kt%2Cc%5Brec%5D%5B2%5D)%2C%22cal%22)%2B%22.%22%3B%09%09%09%09%0A%09%09%09%09%09%09var%20caption%20%3D%20%22Third%20degree%20burns%20extend%20throughout%20the%20layers%20of%20skin%2C%20and%20are%20often%20painless%20because%20they%20destroy%20the%20pain%20nerves.%20They%20can%20cause%20severe%20scarring%20or%20disablement%2C%20and%20can%20require%20amputation.%22%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20%22_2nd-50%22%3A%0A%09%09%09%09%09%09var%20t_text%20%3D%20%222nd%20degree%20burns%20(50%25)%22%3B%0A%09%09%09%09%09%09var%20t_extra%20%3D%20%2250%25%20probability%20for%202nd%20degree%20burns%20at%20this%20yield%20is%20%22%2Bunit(bc.thermal_radiation_param_q(kt%2Cc%5Brec%5D%5B2%5D)%2C%22cal%22)%2B%22.%22%3B%09%09%09%09%0A%09%09%09%09%09%09var%20caption%20%3D%20%22Second%20degree%20burns%20are%20deeper%20burns%20to%20several%20layers%20of%20the%20skin.%20They%20are%20very%20painful%20and%20require%20several%20weeks%20to%20heal.%20Extreme%20second%20degree%20burns%20can%20produce%20scarring%20or%20require%20grafting.%22%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20%22_1st-50%22%3A%0A%09%09%09%09%09%09var%20t_text%20%3D%20%221st%20degree%20burns%20(50%25)%22%3B%0A%09%09%09%09%09%09var%20t_extra%20%3D%20%2250%25%20probability%20for%201st%20degree%20burns%20at%20this%20yield%20is%20%22%2Bunit(bc.thermal_radiation_param_q(kt%2Cc%5Brec%5D%5B2%5D)%2C%22cal%22)%2B%22.%22%3B%09%09%09%09%0A%09%09%09%09%09%09var%20caption%20%3D%20%22First%20degree%20burns%20are%20superficial%20burns%20to%20the%20outer%20layers%20of%20the%20skin.%20They%20are%20painful%20but%20heal%20in%205-10%20days.%20They%20are%20more%20or%20less%20the%20same%20thing%20as%20a%20sunburn.%22%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20%22_noharm-100%22%3A%0A%09%09%09%09%09%09var%20t_text%20%3D%20%22no%20harm%22%3B%0A%09%09%09%09%09%09var%20t_extra%20%3D%20%22100%25%20probability%20of%20no%20significant%20thermal%20damage%20at%20this%20yield%20is%20%22%2Bunit(bc.thermal_radiation_param_q(kt%2Cc%5Brec%5D%5B2%5D)%2C%22cal%22)%2B%22.%22%3B%09%09%09%09%0A%09%09%09%09%09%09var%20caption%20%3D%20%22The%20distance%20at%20which%20anybody%20beyond%20would%20definitely%20suffer%20no%20damage%20from%20thermal%20radiation%20(heat).%22%3B%0A%09%09%09%09%09break%3B%09%0A%09%09%09%09%09default%3A%0A%09%09%09%09%09%09var%20t_text%20%3D%20%22%22%3B%0A%09%09%09%09%09%09var%20t_extra%20%3D%20%22%22%3B%0A%09%09%09%09%09%09var%20caption%20%3D%20%22%22%3B%0A%09%09%09%09%09break%3B%09%0A%09%09%09%09%7D%0A%09%0A%09%09%09%09var%20effectCircle%20%3D%20%7B%0A%09%09%09%09%09map%3A%20map%2C%0A%09%09%09%09%09radius%3A%20c%5Brec%5D%5B0%5D*mi2m%2C%0A%09%09%09%09%09fill%3A%20true%2C%0A%09%09%09%09%09fillColor%3A%20%22%23FFA500%22%2C%0A%09%09%09%09%09fillOpacity%3A%20.3%2C%0A%09%09%09%09%09stroke%3A%20true%2C%0A%09%09%09%09%09color%3A%20%22%23FFA500%22%2C%0A%09%09%09%09%09opacity%3A%201%2C%0A%09%09%09%09%09weight%3A%201%2C%0A%09%09%09%09%09zIndex%3A%20(circs%2B1)%2B(det_index%2B1)*10%2C%0A%09%09%09%09%09title%3A%20%22Thermal%20radiation%20radius%20(%22%2B(t_text%3Ft_text%3Ac%5Brec%5D%5B2%5D%2B%22%20cal%2Fcm%3Csup%3E2%3C%2Fsup%3E)%22)%2C%0A%09%09%09%09%7D%3B%0A%09%09%09%09c_radii%5Bdet_index%5D%5Bcircs%5D%20%3D%20newCircle(effectCircle%2Cmarker%2Cpos)%3B%0A%09%09%09%09effectCaptions.push(%7B%0A%09%09%09%09%09title%3A%20%22Thermal%20radiation%20radius%20(%22%2B(t_text%3Ft_text%3Aunit(c%5Brec%5D%5B2%5D%2C%22cal%22))%2B%22)%22%2C%0A%09%09%09%09%09caption%3A%20caption%2B(t_extra%3D%3D%22%22%3F%22%22%3A%22%20%22%2Bt_extra)%2C%0A%09%09%09%09%09radius%3A%20effectCircle.radius*m2km%2C%0A%09%09%09%09%09fillColor%3A%20effectCircle.fillColor%2C%0A%09%09%09%09%09strokeColor%3A%20effectCircle.color%0A%09%09%09%09%7D)%0A%0A%09%09%09break%3B%0A%0A%09%09%09case%20%22psi%22%3A%0A%09%09%09%09var%20p%20%3D%20parseInt(c%5Brec%5D%5B2%5D)%3B%0A%0A%09%09%09%09var%20effectCircle%20%3D%20%7B%0A%09%09%09%09%09map%3A%20map%2C%0A%09%09%09%09%09radius%3A%20%20c%5Brec%5D%5B0%5D*mi2m%2C%0A%09%09%09%09%09fill%3A%20true%2C%0A%09%09%09%09%09fillColor%3A%20%22%23%22%2BcolorStep(p-5%2C20%2C%22808080%22%2C%22FF0000%22%2C%22800000%22%2C%22800000%22)%2C%0A%09%09%09%09%09fillOpacity%3A%20p%3E%3D5%3F.3%3Alerp(.3%2C5%2C.2%2C1%2Cp)%2C%0A%09%09%09%09%09stroke%3A%20true%2C%0A%09%09%09%09%09color%3A%20%22%23%22%2BcolorStep(p-5%2C20%2C%22808080%22%2C%22FF0000%22%2C%22800000%22%2C%22800000%22)%2C%0A%09%09%09%09%09opacity%3A%20p%3E%3D5%3F1%3Alerp(1%2C5%2C.5%2C1%2Cp)%2C%0A%09%09%09%09%09weight%3A%20p%3C5%3F1%3A2%2C%0A%09%09%09%09%09zIndex%3A%20(circs%2B1)%2B(det_index%2B1)*10%2C%0A%09%09%09%09%09title%3A%20%22Air%20blast%20radius%20(%22%2BaddCommas(p)%2B%22%20psi)%22%2C%0A%09%09%09%09%7D%3B%0A%09%09%09%09c_radii%5Bdet_index%5D%5Bcircs%5D%20%3D%20newCircle(effectCircle%2Cmarker%2Cpos)%3B%0A%0A%09%09%09%09switch(true)%20%7B%0A%09%09%09%09%09case%20(p%20%3D%3D%2010000)%3A%20%20%0A%09%09%09%09%09%09var%20caption%20%3D%20%2210%2C000%20psi%20is%20approximately%20the%20pressure%20felt%20at%204%20miles%20under%20the%20ocean.%20Not%20much%20can%20withstand%20this.%22%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20(p%20%3D%3D%207000)%3A%0A%09%09%09%09%09%09var%20caption%20%3D%20%227%2C000%20psi%20is%20supposedly%20the%20maximum%20amount%20of%20pressure%20that%20super-hardened%20American%20missile%20silos%20can%20withstand.%22%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20(p%3C10000%26%26p%3E1000)%3A%0A%09%09%09%09%09%09var%20caption%20%3D%20%22Missile%20silos%20can%20be%20blast%20hardened%20to%20survive%20many%20thousand%20psi%20of%20pressure%2C%20but%20not%20much%20else%20can.%22%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20(p%20%3D%3D%20200)%3A%0A%09%09%09%09%09%09var%20caption%20%3D%20%22200%20psi%20is%20approximately%20the%20pressure%20felt%20inside%20of%20a%20steam%20boiler%20on%20a%20locomotive.%20Extreme%20damage%20to%20all%20civilian%20structures%2C%20some%20damage%20to%20even%20%26quot%3Bhardened%26quot%3B%20structures.%22%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20(p%20%3D%3D%2020)%3A%0A%09%09%09%09%09%09var%20caption%20%3D%20%22At%2020%20psi%20overpressure%2C%20heavily%20built%20concrete%20buildings%20are%20severely%20damaged%20or%20demolished%3B%20fatalities%20approach%20100%25.%20Often%20used%20as%20a%20benchmark%20for%20%3Cb%3Eheavy%3C%2Fb%3E%20damage%20in%20cities.%22%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20(p%20%3C%2020%20%26%26%20p%20%3E%205)%3A%0A%09%09%09%09%09%09var%20caption%20%3D%20%22Between%20moderate%20and%20heavy%20damage%20in%20cities.%22%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20(p%20%3D%3D%205)%3A%0A%09%09%09%09%09%09var%20caption%20%3D%20%22At%205%20psi%20overpressure%2C%20most%20residential%20buildings%20collapse%2C%20injuries%20are%20universal%2C%20fatalities%20are%20widespread.%20The%20chances%20of%20a%20fire%20starting%20in%20commercial%20and%20residential%20damage%20are%20high%2C%20and%20buildings%20so%20damaged%20are%20at%20high%20risk%20of%20spreading%20fire.%20Often%20used%20as%20a%20benchmark%20for%20%3Cb%3Emoderate%3C%2Fb%3E%20damage%20in%20cities.%22%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20(p%20%3C%205%20%26%26%20p%20%3E%201)%3A%0A%09%09%09%09%09%09var%20caption%20%3D%20%22Between%20light%20and%20moderate%20damage%20in%20cities.%20Buildings%20damaged%20with%20between%202%20and%205%20psi%20of%20blast%20are%20considered%20a%20major%20risk%20for%20fire%20spread%20(because%20they%20are%20damaged%20but%20still%20standing).%22%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20(p%20%3D%3D%201)%3A%0A%09%09%09%09%09%09var%20caption%20%3D%20%22At%20a%20around%201%20psi%20overpressure%2C%20glass%20windows%20can%20be%20expected%20to%20break.%20This%20can%20cause%20many%20injuries%20in%20a%20surrounding%20population%20who%20comes%20to%20a%20window%20after%20seeing%20the%20flash%20of%20a%20nuclear%20explosion%20(which%20travels%20faster%20than%20the%20pressure%20wave).%20Often%20used%20as%20a%20benchmark%20for%20%3Cb%3Elight%3C%2Fb%3E%20damage%20in%20cities.%22%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%09%09default%3A%0A%09%09%09%09%09%09var%20caption%20%3D%20%22%22%3B%0A%09%09%09%09%09break%3B%09%09%09%09%0A%09%09%09%09%7D%0A%09%09%09%09if(airburst)%20%7B%0A%09%09%09%09%09caption%2B%3D%22%20Optimal%20height%20of%20burst%20to%20maximize%20this%20effect%20is%20%22%2Bunit(bc.opt_height_for_psi(kt%2Cc%5Brec%5D%5B2%5D)*ft2km%2C%22km%22%2C%7Bprefer_smaller%3Atrue%7D)%2B%22.%22%3B%0A%09%09%09%09%7D%0A%0A%09%09%09%09var%20title%20%3D%20%22%22%3B%0A%09%09%09%09switch(p)%20%7B%0A%09%09%09%09%09case%2020%3A%20title%20%3D%22Heavy%20blast%20damage%20radius%20(%22%2Bunit(20%2C%22psi%22)%2B%22)%22%3B%20break%3B%0A%09%09%09%09%09case%205%3A%20title%20%3D%22Moderate%20blast%20damage%20radius%20(%22%2Bunit(5%2C%22psi%22)%2B%22)%22%3B%20break%3B%0A%09%09%09%09%09case%201%3A%20title%20%3D%22Light%20blast%20damage%20radius%20(%22%2Bunit(1%2C%22psi%22)%2B%22)%22%3B%20break%3B%0A%09%09%09%09%09default%3A%20title%20%3D%20%22Air%20blast%20radius%20(%22%2Bunit(c%5Brec%5D%5B2%5D%2C%22psi%22)%2B%22)%22%3B%0A%09%09%09%09%7D%0A%0A%09%09%09%09effectCaptions.push(%7B%0A%09%09%09%09%09title%3A%20title%2C%0A%09%09%09%09%09caption%3A%20caption%2C%0A%09%09%09%09%09radius%3A%20effectCircle.radius*m2km%2C%0A%09%09%09%09%09fillColor%3A%20effectCircle.fillColor%2C%0A%09%09%09%09%09strokeColor%3A%20effectCircle.color%0A%09%09%09%09%7D)%0A%0A%09%09%09break%3B%0A%09%09%09%0A%09%09%09case%20%22rem%22%3A%0A%09%09%09%09var%20effectCircle%20%3D%20%7B%0A%09%09%09%09%09map%3A%20map%2C%0A%09%09%09%09%09radius%3A%20%20c%5Brec%5D%5B0%5D*mi2m%2C%0A%09%09%09%09%09fill%3A%20true%2C%0A%09%09%09%09%09fillColor%3A%20%22%2300FF00%22%2C%0A%09%09%09%09%09fillOpacity%3A%20.3%2C%0A%09%09%09%09%09stroke%3A%20true%2C%0A%09%09%09%09%09color%3A%20%22%2300FF00%22%2C%0A%09%09%09%09%09opacity%3A%201%2C%0A%09%09%09%09%09weight%3A%201%2C%0A%09%09%09%09%09zIndex%3A%20(circs%2B1)%2B(det_index%2B1)*10%2C%0A%09%09%09%09%09title%3A%20%22Radiation%20radius%20(%22%2B(c%5Brec%5D%5B2%5D)%2B%22%20rem)%22%2C%0A%09%09%09%09%7D%3B%0A%09%09%09%09c_radii%5Bdet_index%5D%5Bcircs%5D%20%3D%20newCircle(effectCircle%2Cmarker%2Cpos)%3B%0A%0A%09%09%09%09%2F%2Flinear%20fit%20to%20NAPB-90%20data%2C%20table%20B-2%2C%20which%20is%20just%20LNT.%20cancer%20risk.%0A%09%09%09%09var%20c_risk%20%3D0.0303*(c%5Brec%5D%5B2%5D)-0.2065%3B%0A%09%09%09%09if(c_risk%3C1)%20%7B%0A%09%09%09%09%09c_risk%20%3D%20%22less%20than%201%25%22%3B%0A%09%09%09%09%7D%20else%20if(c_risk%3E100)%20%7B%0A%09%09%09%09%09c_risk%20%3D%20%22100%25%22%3B%0A%09%09%09%09%7D%20else%20%7B%0A%09%09%09%09%09c_risk%20%3D%20Math.round(c_risk)%2B%22%25%22%3B%0A%09%09%09%09%7D%0A%0A%09%09%09%09%2F%2Fincapacitation%20and%20death%20info%20comes%20from%20Jorma%20K.%20Miettinen%2C%20%22Enhanced%20Radiation%20Warfare%2C%22%20BAS%2033%2C%20no.%207%20(1977)%2C%2032-37.%0A%09%09%09%09var%20caption%20%3D%20unit(c%5Brec%5D%5B2%5D%2C%22rem%22)%2B%22%20ionizing%20radiation%20dose%3B%20%22%3B%0A%09%09%09%09if(c%5Brec%5D%5B2%5D%3E%3D17000)%20%7B%0A%09%09%09%09%09caption%2B%3D%22fatal%2C%20incapacitating%20within%20five%20minutes%2C%20death%20within%20one%20day.%22%3B%20%2F%2Fno%20need%20to%20talk%20about%20survivors%09%09%0A%09%09%09%09%7D%20else%20if(c%5Brec%5D%5B2%5D%3E%3D7000)%20%7B%0A%09%09%09%09%09caption%2B%3D%22fatal%2C%20incapacitating%20within%20five%20minutes%2C%20death%20within%20one%20to%20two%20days.%22%3B%20%2F%2Fno%20need%20to%20talk%20about%20survivors%09%09%0A%09%09%09%09%7D%20else%20if%20(c%5Brec%5D%5B2%5D%3E%3D1000)%20%7B%0A%09%09%09%09%09caption%2B%3D%22fatal%2C%20incapacitating%20within%20five%20minutes%20with%20recovery%20period%2C%20death%20within%20four%20to%20six%20days.%22%3B%20%2F%2Fno%20need%20to%20talk%20about%20survivors%09%09%0A%09%09%09%09%7D%20else%20if%20(c%5Brec%5D%5B2%5D%3E%3D1000)%20%7B%0A%09%09%09%09%09caption%2B%3D%22fatal%2C%20in%20two%20weeks%20or%20less.%22%3B%20%2F%2Fno%20need%20to%20talk%20about%20survivors%0A%09%09%09%09%7D%20else%20if(c%5Brec%5D%5B2%5D%3E%3D500)%20%7B%0A%09%09%09%09%09caption%2B%3D%22likely%20fatal%2C%20in%20about%201%20month%3B%20%22%2Bc_risk%2B%22%20of%20survivors%20will%20eventually%20die%20of%20cancer%20as%20a%20result%20of%20exposure.%22%3B%0A%09%09%09%09%7D%20else%20if(c%5Brec%5D%5B2%5D%3E%3D250)%20%7B%0A%09%09%09%09%09caption%2B%3D%22sickness%20inducing%2C%20medical%20care%20would%20be%20required%2C%20some%20deaths%20in%2030-60%20days%3B%20%22%2Bc_risk%2B%22%20of%20survivors%20will%20eventually%20die%20of%20cancer%20as%20a%20result%20of%20exposure.%22%3B%0A%09%09%09%09%7D%20else%20if(c%5Brec%5D%5B2%5D%3E%3D100)%20%7B%0A%09%09%09%09%09caption%2B%3D%22sickness%20inducing%2C%20less%20than%205%25%20chance%20of%20death%20in%2060%20days%3B%20%22%2Bc_risk%2B%22%20of%20survivors%20will%20die%20of%20cancer%20as%20a%20result%20of%20exposure.%22%3B%0A%09%09%09%09%7D%20else%20if(c%5Brec%5D%5B2%5D%3E0)%20%7B%0A%09%09%09%09%09caption%2B%3D%22no%20immediate%20symptoms%3B%20%22%2Bc_risk%2B%22%20of%20survivors%20will%20die%20of%20cancer%20as%20a%20result%20of%20exposure.%22%3B%0A%09%09%09%09%7D%0A%09%09%09%09effectCaptions.push(%7B%0A%09%09%09%09%09title%3A%20%22Radiation%20radius%20(%22%2Bunit(c%5Brec%5D%5B2%5D%2C%22rem%22)%2B%22)%22%2C%0A%09%09%09%09%09caption%3A%20caption%2C%0A%09%09%09%09%09radius%3A%20effectCircle.radius*m2km%2C%0A%09%09%09%09%09fillColor%3A%20effectCircle.fillColor%2C%0A%09%09%09%09%09strokeColor%3A%20effectCircle.color%0A%09%09%09%09%7D)%0A%0A%09%09%09break%3B%0A%09%09%09%0A%09%09%09case%20%22fireball%22%3A%0A%09%09%09%09var%20effectCircle%20%3D%20%7B%0A%09%09%09%09%09map%3A%20map%2C%0A%09%09%09%09%09radius%3A%20%20c%5Brec%5D%5B0%5D*mi2m%2C%0A%09%09%09%09%09fill%3A%20true%2C%0A%09%09%09%09%09fillColor%3A%20%22%23FFA500%22%2C%0A%09%09%09%09%09fillOpacity%3A%20airburst%3F.3%3A.5%2C%0A%09%09%09%09%09stroke%3A%20true%2C%0A%09%09%09%09%09color%3A%20%22%23FFFF00%22%2C%0A%09%09%09%09%09opacity%3A%20airburst%3F.8%3A1%2C%0A%09%09%09%09%09weight%3A%20airburst%3F1%3A2%2C%0A%09%09%09%09%09zIndex%3A%20(circs%2B1)%2B(det_index%2B1)*10%2C%0A%09%09%09%09%09title%3A%20%22Fireball%20radius%22%2C%0A%09%09%09%09%7D%0A%09%09%09%09c_radii%5Bdet_index%5D%5Bcircs%5D%20%3D%20newCircle(effectCircle%2Cmarker%2Cpos)%3B%0A%0A%09%09%09%09var%20caption%20%3D%20%22Maximum%20size%20of%20the%20nuclear%20fireball%3B%20relevance%20to%20damage%20on%20the%20ground%20depends%20on%20the%20height%20of%20detonation.%20If%20it%20touches%20the%20ground%2C%20the%20amount%20of%20radioactive%20fallout%20is%20significantly%20increased.%20Anything%20inside%20the%20fireball%20is%20effectively%20vaporized.%20%22%3B%0A%09%09%09%09if(airburst)%20caption%2B%3D%22%20Minimum%20burst%20height%20for%20negligible%20fallout%3A%20%22%2Bunit(bc.minimum_height_for_negligible_fallout(kt)*mi2km%2C%22km%22)%2B%22.%22%3B%0A%09%09%09%09effectCaptions.push(%7B%0A%09%09%09%09%09title%3A%20%22Fireball%20radius%22%2C%0A%09%09%09%09%09caption%3A%20caption%2C%0A%09%09%09%09%09radius%3A%20effectCircle.radius*m2km%2C%0A%09%09%09%09%09fillColor%3A%20effectCircle.fillColor%2C%0A%09%09%09%09%09strokeColor%3A%20effectCircle.color%0A%09%09%09%09%7D)%0A%0A%09%09%09break%3B%0A%0A%09%09%09case%20%22crater%22%3A%0A%09%09%09%09c.push(%5Bcr%5B0%5D%2C%22crater_lip%22%2C%22%22%5D)%3B%0A%0A%09%09%09%09var%20effectCircle%20%3D%20%7B%0A%09%09%09%09%09map%3A%20map%2C%0A%09%09%09%09%09radius%3A%20%20cr%5B0%5D*mi2m%2C%0A%09%09%09%09%09fill%3A%20true%2C%0A%09%09%09%09%09fillColor%3A%20%22%232E2E2E%22%2C%0A%09%09%09%09%09fillOpacity%3A%20.5%2C%0A%09%09%09%09%09stroke%3A%20true%2C%0A%09%09%09%09%09color%3A%20%22%232E2E2E%22%2C%0A%09%09%09%09%09opacity%3A%201%2C%0A%09%09%09%09%09weight%3A%201%2C%0A%09%09%09%09%09zIndex%3A%20(circs%2B1)%2B(det_index%2B1)*10%2C%0A%09%09%09%09%09title%3A%20%22Crater%20lip%20radius%22%2C%0A%09%09%09%09%7D%3B%0A%09%09%09%09c_radii%5Bdet_index%5D%5Bcircs%5D%20%3D%20newCircle(effectCircle%2Cmarker%2Cpos)%3B%0A%09%09%09%09%0A%09%09%09%09effectCaptions.push(%7B%0A%09%09%09%09%09title%3A%20%22Crater%20lip%20radius%22%2C%0A%09%09%09%09%09id%3A%20effectCircle.id%2C%0A%09%09%09%09%09radius%3A%20effectCircle.radius*m2km%2C%0A%09%09%09%09%09fillColor%3A%20%22%23525252%22%2C%0A%09%09%09%09%09fillOpacity%3A%200.8%2C%0A%09%09%09%09%09strokeColor%3A%20%22%232E2E2E%22%0A%09%09%09%09%7D)%0A%0A%09%09%09%09effectCaptions.push(%7B%0A%09%09%09%09%09title%3A%20%22Crater%20depth%22%2C%0A%09%09%09%09%09legendkey%3A%20%22%3Cspan%20style%3D'padding-left%3A%204px%3B%20padding-right%3A%201px%3Btext-align%3A%20center%3B%20display%3A%20inline-block%3B'%3E%26darr%3B%3C%2Fspan%3E%22%2C%0A%09%09%09%09%09radius%3A%20cr%5B2%5D*mi2km%2C%0A%09%09%09%09%09show_area%3A%20false%2C%0A%09%09%09%09%09no_highlight%3A%20true%0A%09%09%09%09%7D)%0A%0A%09%09%09%09var%20effectCircle%20%3D%20%7B%0A%09%09%09%09%09map%3A%20map%2C%0A%09%09%09%09%09radius%3A%20%20cr%5B1%5D*mi2m%2C%0A%09%09%09%09%09fill%3A%20true%2C%0A%09%09%09%09%09fillColor%3A%20%22%232E2E2E%22%2C%0A%09%09%09%09%09fillOpacity%3A%20.5%2C%0A%09%09%09%09%09stroke%3A%20true%2C%0A%09%09%09%09%09color%3A%20%22%232E2E2E%22%2C%0A%09%09%09%09%09opacity%3A%201%2C%0A%09%09%09%09%09weight%3A%201%2C%0A%09%09%09%09%09zIndex%3A%20(circs%2B1)%2B(det_index%2B1)*10%2C%0A%09%09%09%09%09title%3A%20%22Crater%20inner%20radius%22%2C%0A%09%09%09%09%7D%3B%0A%09%09%09%09circs%2B%2B%3B%0A%09%09%09%09c_radii%5Bdet_index%5D%5Bcircs%5D%20%3D%20newCircle(effectCircle%2Cmarker%2Cpos)%3B%0A%0A%09%09%09%09effectCaptions.push(%7B%0A%09%09%09%09%09title%3A%20%22Crater%20inside%20radius%22%2C%0A%09%09%09%09%09topinsert%3A%20%22%3Cdiv%3E%3Ca%20class%3D'effectImage'%20href%3D'%22%2Bassets%2B%22images%2Fcraterdiagram.png'%20title%3D'Click%20to%20enlarge%20this%20image'%20target%3D'_blank'%20onclick%3D'show_image(this)%3B%20return%20false%3B'%3E%3Cimg%20src%3D'%22%2Bassets%2B%22images%2Fcraterdiagram.png'%3E%3C%2Fa%3E%3C%2Fdiv%3E%22%2C%0A%09%09%09%09%09radius%3A%20effectCircle.radius*m2km%2C%0A%09%09%09%09%09fillColor%3A%20effectCircle.fillColor%2C%0A%09%09%09%09%09fillOpacity%3A%20.5%2C%0A%09%09%09%09%09strokeColor%3A%20effectCircle.color%0A%09%09%09%09%7D)%0A%0A%09%09%09break%3B%0A%09%09%09%0A%09%09%09%2F*%0A%09%09%09case%20%22cep%22%3A%0A%09%09%09%09var%20effectCircle%20%3D%20newCircle(%7B%0A%09%09%09%09%09map%3A%20map%2C%0A%09%09%09%09%09radius%3A%20%20c%5Brec%5D%5B0%5D*mi2m%2C%0A%09%09%09%09%09fill%3A%20false%2C%0A%09%09%09%09%09fillColor%3A%20%22%230000FF%22%2C%0A%09%09%09%09%09fillOpacity%3A%200%2C%0A%09%09%09%09%09stroke%3A%20true%2C%0A%09%09%09%09%09color%3A%20%22%23%22%2BcolorStep(c%5Brec%5D%5B0%5D%2C50%2C%228080FF%22%2C%220000FF%22)%2C%0A%09%09%09%09%09opacity%3A%20.8%2C%0A%09%09%09%09%09weight%3A%201%2C%0A%09%09%09%09%09zIndex%3A%20(circs%2B1)%2B(det_index%2B1)*10%2C%0A%09%09%09%09%09title%3A%20%22Circular%20Error%20Probable%20(%22%2Bc%5Brec%5D%5B2%5D%2B%22%25)%22%2C%0A%09%09%09%09%7D%2Cmarker%2Cpos)%3B%0A%09%09%09%09c_radii%5Bdet_index%5D%5Bcircs%5D%20%3D%20effectCircle%3B%0A%0A%09%09%09%09var%20caption%20%3D%22The%20radius%20(based%20on%20the%20user-defined%20CEP%20of%20%22%2Bunit(cep_ft*ft2km%2C%22km%22)%2B%22)%20where%20the%20bomb%20or%20warhead%20has%20a%20%22%2Bc%5Brec%5D%5B2%5D%2B%22%25%20chance%20of%20landing.%22%3B%0A%09%09%09%09legend1%20%3D%20%22%3Cp%3E%3Cdiv%20class%3D'legendkey'%20index%3D'%22%2Bdet_index%2B%22'%20radius%3D'%22%2B(c%5Brec%5D%5B0%5D*mi2m)%2B%22'%20style%3D'background-color%3A%20%23%22%2Bbackground_color%2B%22%3B%20border%3A%201px%20solid%20%23%22%2BcolorStep(c%5Brec%5D%5B0%5D%2C50%2C%228080FF%22%2C%220000FF%22)%2B%22%3B'%3E%3C%2Fdiv%3E%20Circular%20Error%20Probable%20(%22%2Bc%5Brec%5D%5B2%5D%2B%22%25)%3A%20%22%2Bunit(c%5Brec%5D%5B0%5D*mi2km%2C%22km%22%2C%7Bshow_area%3Atrue%7D)%20%2B%20%22%3Cbr%3E%3Csmall%20class%3D'caption'%3E%22%2Bcaption%2B%22%3C%2Fsmall%3E%22%2Blegend1%3B%09%09%09%0A%09%09%09break%3B%0A%09%09%09*%2F%0A%09%09%7D%3B%0A%09%09circs%2B%2B%3B%0A%09%7D%3B%0A%0A%09%2F%2Freverse%20add%20the%20captions%0A%09for(var%20i%20%3D%20effectCaptions.length-1%3B%20i%3E%3D0%3Bi--)%20%7B%0A%09%09var%20ec%20%3D%20effectCaptions%5Bi%5D%3B%0A%09%09var%20o%20%3D%20%22%22%3B%0A%09%09o%2B%3D%60%3Cdiv%20class%3D%22effectCaption%22%20%60%3B%0A%09%09if(typeof%20ec.no_highlight%3D%3D%22undefined%22)%20%7B%0A%09%09%09o%2B%3D%60index%3D%22%24%7Bdet_index%7D%22%20radius%3D%22%24%7Bec.radius%7D%22%60%3B%0A%09%09%7D%0A%09%09o%2B%3D%22%3E%22%3B%0A%09%09if(typeof%20ec.topinsert%20!%3D%22undefined%22)%20o%2B%3Dec.topinsert%3B%0A%09%09o%2B%3D%60%3Cdiv%20class%3D%22effectCaptionHeader%22%3E%60%3B%0A%09%09o%2B%3D%60%3Cdiv%20class%3D%22legendkey%22%20index%3D%22%24%7Bdet_index%7D%22%20radius%3D%22%24%7Bec.radius%7D%22%20%60%3B%0A%09%09if(typeof%20ec.fillOpacity%3D%3D%22undefined%22)%20ec.fillOpacity%20%3D%200.3%3B%0A%09%09if(typeof%20ec.fillColor!%3D%22undefined%22)%20o%2B%3D%60style%3D%22background-color%3A%20%24%7B(%22rgba(%22%2Bhex2rgb(ec.fillColor%2Ctrue)%2B%22%2C%22%2Bec.fillOpacity%2B%22)%22)%7D%3B%20border%3A%201px%20solid%20%24%7Bec.strokeColor%7D%3B%22%60%3B%0A%09%09o%2B%3D%60%3E%60%3B%0A%09%09if(typeof%20ec.legendkey!%3D%22undefined%22)%20o%2B%3Dec.legendkey%3B%0A%09%09o%2B%3D%60%3C%2Fdiv%3E%20%60%3B%0A%09%09o%2B%3D%60%3Cspan%20class%3D%22effectTitleRadius%22%3E%60%3B%0A%09%09o%2B%3D%60%3Cspan%20class%3D%22effectTitle%22%3E%24%7Bec.title%7D%3A%3C%2Fspan%3E%20%60%3B%0A%09%09if(typeof%20ec.radiusTxt%20%3D%3D%20%22undefined%22)%20%7B%0A%09%09%09var%20show_area%20%3D%20typeof%20ec.show_area%20%3D%3D%20%22undefined%22%3Ftrue%3Aec.show_area%3B%0A%09%09%09ec.radiusTxt%20%3D%20unit(ec.radius%2C%22km%22%2C%7Bshow_area%3Ashow_area%7D)%0A%09%09%7D%0A%09%09o%2B%3D%60%3Cspan%20class%3D%22effectRadius%22%3E%24%7Bec.radiusTxt%7D%3C%2Fspan%3E%60%3B%0A%09%09o%2B%3D%60%3C%2Fspan%3E%60%3B%0A%09%09o%2B%3D%60%3C%2Fdiv%3E%60%3B%0A%09%09if(typeof%20ec.caption!%3D%22undefined%22)%20o%2B%3D%60%3Cdiv%20class%3D%22caption%22%3E%24%7Bec.caption%7D%3C%2Fdiv%3E%60%3B%0A%09%09o%2B%3D%60%3C%2Fdiv%3E%60%3B%0A%09%09if(typeof%20ec.clear%20!%3D%20%22undefined%22%20%26%26%20ec.clear%3D%3Dtrue)%20o%2B%3D%22%3Cbr%20style%3D'clear%3Aboth%3B'%2F%3E%22%3B%0A%09%09legend1%2B%3Do%3B%0A%09%7D%0A%0A%0A%09if(airburst)%20%7B%0A%09%09legend1%2B%3D%22%3Cp%3E%3Csmall%3E%22%3B%0A%09%09if(hob_ft%7C%7Chob_ft%3D%3D%3D0)%20%7B%0A%09%09%09legend1%2B%3D%20%22*Detonation%20altitude%3A%20%22%2Bunit(hob_ft*ft2km%2C%22km%22%2C%7B%22prefer_smaller%22%3Atrue%7D)%2B%22.%22%3B%0A%09%09%09if(hob_opt%3D%3D1)%20%7B%0A%09%09%09%09legend1%2B%3D%22%20(Chosen%20to%20maximize%20the%20%22%2Bunit(hob_opt_psi%2C%22psi%22)%2B%22%20range.)%22%3B%0A%09%09%09%7D%0A%09%09%7D%20else%20%7B%0A%09%09%09legend1%2B%3D%20%22*Effects%20shown%20for%20multiple%2C%20different%20detonation%20altitudes.%22%3B%0A%09%09%7D%0A%09%09legend1%2B%3D%22%3C%2Fsmall%3E%3C%2Fp%3E%22%3B%0A%09%7D%0A%0A%09legend%20%3D%20legend%20%2B%20legend1%3B%0A%09%09%0A%09if(errs.length)%20%7B%0A%09%09legend%2B%3D%22%3Chr%3E%3Cdiv%20id%3D'effectsErrors'%3EThe%20following%20errors%20were%20encountered%20trying%20to%20implement%20these%20settings%3A%22%3B%0A%09%09legend%2B%3D%22%3Cul%3E%22%3B%0A%09%09for(var%20i%3D0%3Bi%3Cerrs.length%3Bi%2B%2B)%20%7B%0A%09%09%09legend%2B%3D%22%3Cli%3E%22%2Berrs%5Bi%5D%2B%22%3C%2Fli%3E%22%3B%09%09%0A%09%09%7D%0A%09%09legend%2B%3D%22%3C%2Ful%3E%3C%2Fdiv%3E%22%3B%0A%09%7D%0A%0A%09legend%20%3D%20legend%20%2B%20%22%3Chr%3E%3Csmall%3ENote%3A%20Rounding%20accounts%20for%20inconsistencies%20in%20the%20above%20numbers.%22%0A%09if(kt%3E20000)%20legend%20%3D%20legend%20%2B%20%22%20Yields%20above%20%22%2BktOrMt(20000%2Cfalse%2Cfalse%2Ctrue)%2B%22%20are%20derived%20from%20a%20scaling%20of%20%22%2BktOrMt(20000%2Ctrue)%2B%22%20yields%2C%20and%20are%20not%20as%20validated%20as%20those%20under%20%22%2BktOrMt(20000%2Ctrue)%2B%22.%22%3B%0A%09if(kt%3C1)%20legend%20%3D%20legend%20%2B%20%22%20Yields%20under%20%22%2BktOrMt(1%2Cfalse)%2B%22%20are%20derived%20from%20a%20scaling%20of%20%22%2BktOrMt(1%2Ctrue)%2B%22%20yields%2C%20and%20are%20not%20as%20validated%20as%20those%20over%20%22%2BktOrMt(1%2Ctrue)%2B%22.%22%0A%09legend%20%3D%20legend%20%2B%20%22%3C%2Fsmall%3E%22%3B%0A%0A%09legend%2B%3D%22%3Cdiv%20id%3D'legend-multiple'%3E%3C%2Fdiv%3E%22%3B%0A%0A%09legend%20%3D%20%22%3Cdiv%20id%3D'legend-text'%3E%22%2Blegend%2B%22%3C%2Fdiv%3E%22%3B%0A%09legend%2B%3D%20%22%3C%2Fdiv%3E%22%3B%20%2F%2Fcollapsable%20content%20div%0A%09legend%2B%3D%22%3C%2Fdiv%3E%22%3B%0A%09legends%5Bdet_index%5D%20%3D%20legend%3B%0A%0A%09if(%24(%22%23option_autozoom%22).prop(%22checked%22)%20%26%26%20(override_autozoom%20!%3D%20true))%20%7B%0A%09%09var%20biggestBounds%20%3D%20getCircleBounds(c_radii%5Bdet_index%5D%5B0%5D)%3B%0A%09%09fitBounds(map%2C%20biggestBounds)%3B%0A%09%7D%0A%0A%0A%09%24(%22%23theLegend%22).html(legend)%3B%0A%0A%09if(dets.length%3E1)%20%7B%0A%09%09var%20m_legend%20%3D%20%22%22%3B%0A%09%09m_legend%2B%3D%22%3Chr%3E%3Csmall%3EThis%20map%20has%20multiple%20detonations.%20The%20above%20information%20is%20for%20detonation%20%23%3Cspan%20id%3D'current_legend_det'%3E%22%2B(det_index%2B1)%2B%22%3C%2Fspan%3E%20only.%22%3B%0A%09%09m_legend%2B%3D%22%20View%20other%20detonation%20information%3A%20%22%0A%09%09m_legend%2B%3D%22%3Cselect%20id%3D'legend_changer'%20onchange%3D'change_legend(this.value)%3B'%3E%22%3B%0A%09%09for(var%20i%3D0%3Bi%3Cdets.length%3Bi%2B%2B)%20%7B%0A%09%09%09if(i%3D%3Ddet_index)%20%7B%0A%09%09%09%09var%20chk%20%3D%20%22%20selected%22%3B%0A%09%09%09%7D%20else%20%7B%0A%09%09%09%09var%20chk%20%3D%20%22%22%3B%0A%09%09%09%7D%0A%09%09%09m_legend%2B%3D%22%3Coption%20value%3D'%22%2B(i)%2B%22'%22%2Bchk%2B%22%3E%22%2B(i%2B1)%2B%22%3C%2Foption%3E%22%3B%0A%09%09%7D%0A%09%09m_legend%2B%3D%22%3C%2Fselect%3E%22%3B%0A%09%09m_legend%2B%3D%22%20%3Ca%20href%3D'%23'%20onclick%3D'edit_dets()%3B%20return%20false%3B'%3EClick%20here%3C%2Fa%3E%20to%20edit%20the%20detonation%20order.%22%3B%0A%09%09m_legend%2B%3D%22%3C%2Fsmall%3E%3Cspan%20id%3D'det_editor'%3E%3C%2Fspan%3E%22%3B%0A%09%09%24(%22%23legend-multiple%22).html(m_legend)%3B%0A%09%7D%0A%0A%0A%09%24(%22%23thePermalink%22).html(%22%3Chr%3E%3Cbig%3E%26nbsp%3B%26raquo%3B%20%3Cspan%20id%3D'permalink'%3E%22%2Bpermalink()%2B%22%3C%2Fspan%3E%20%26laquo%3B%3C%2Fbig%3E%3C%2Fsmall%3E%22)%3B%0A%0A%09if(%24(%22%23option_logdata%22).prop(%22checked%22)%20!%3D%20true)%20%7B%0A%09%09pos_lat%20%3D%20latval(dets%5Bdet_index%5D.pos)%3B%0A%09%09pos_lng%20%3D%20lngval(dets%5Bdet_index%5D.pos)%3B%0A%09%09var%20log_obj%20%3D%20%7B%0A%09%09%09ver%3A%202%2C%0A%09%09%09target_lat%3A%20pos_lat%2C%0A%09%09%09target_lng%3A%20pos_lng%2C%0A%09%09%09kt%3A%20dets%5Bdet_index%5D.kt%2C%0A%09%09%09airburst%3A%20dets%5Bdet_index%5D.airburst%3D%3Dtrue%3F1%3A0%2C%0A%09%09%09casualties%3A%20dets%5Bdet_index%5D.casualties%3D%3Dtrue%3F1%3A0%2C%0A%09%09%09fallout%3A%20dets%5Bdet_index%5D.fallout%3D%3Dtrue%3F1%3A0%2C%0A%09%09%09linked%3A%20dets%5Bdet_index%5D.linked%3D%3Dtrue%3F1%3A0%2C%0A%09%09%09active_dets%3A%20(det_index%2B1)%2C%0A%09%09%7D%3B%0A%09%09if(MODE%20%3D%3D%20GMAP)%20%7B%0A%09%09%09if(google.loader.ClientLocation)%20%7B%0A%09%09%09%09log_obj.user_country%20%3D%20user_country%3B%0A%09%09%09%09log_obj.user_lat%20%3D%20google.loader.ClientLocation.latitude%3B%0A%09%09%09%09log_obj.user_lng%20%3D%20google.loader.ClientLocation.longitude%3B%0A%09%09%09%7D%0A%09%09%7D%0A%09%09if(MODE%20%3D%3D%20LLET%7C%7CMODE%3D%3DMBOX)%20%7B%0A%09%09%09if(clientLocation)%20%7B%0A%09%09%09%09log.obj.user_lat%20%3D%20clientLocation.latitude%3B%0A%09%09%09%09log.obj.user_lng%20%3D%20clientLocation.longitude%3B%0A%09%09%09%7D%0A%09%09%7D%0A%09%09log_det(log_obj)%3B%0A%09%7D%0A%09%0A%09if(collapser)%20%7B%0A%09%09%24(%22%23bottomFrame%22).scrollTop(1000)%3B%0A%09%7D%0A%09%0A%7D%7D)()%3B